resources:
  - name: random-file-deploy
    type: file
    flags:
      - deploy
    pointer:
      sourceName: https://github.com/trriplejay/sample_pipelines/blob/master/shippable.yml
    seed:
      versionName: test
  - name: nginx-image-deploy
    type: image
    flags:
      - deploy
    pointer:
      sourceName: "library/nginx"
    seed:
      versionName: stable

  - name: busybox-image-deploy
    type: image
    flags:
      - deploy
    pointer:
      sourceName: "busybox"
    seed:
      versionName: "latest"

  - name: nginx-params-deploy
    type: params
    flags:
      - deploy
    version:
      params:
        mode: dev
        api_url: localhost:50000

  - name: nginx-opts-deploy
    type: dockerOptions
    flags:
      - deploy
    version:
      memory: 128

  - name: 123-bad-opts-deploy
    type: dockerOptions
    flags:
      - deploy
    version:
      memory: 666


  - name: ecsStaging-deploy
    type: cluster
    flags:
      - deploy
    integration: "MyAwsSoftSrvKeys"
    pointer:
      sourceName: default
      region: us-east-1

  - name: ecsProduction-deploy
    type: cluster
    flags:
      - deploy
    integration: "trriplejay personal aws"
    pointer:
      # sourceName: "default"
      # region: "us-east-1"
      # sourceName: "deploy-ecs-basic"
      region: "us-east-1"
      sourceName: "default"


  - name: simple-image-deploy
    type: image
    flags:
      - deploy
    pointer:
      sourceName: "trriplejay/simpleserver"
    seed:
      versionName: master.58

  - name: simple-params-deploy
    type: params
    flags:
      - deploy
    version:
      params:
        FOO: "test foo"
        BAR: "test bar"
        MODE: "dev"
        SELF_URL: "http://localhost:8888"

  - name: simple-opts-deploy
    type: dockerOptions
    flags:
      - deploy
    version:
      memory: 128
      memoryReservation: 256
      taskDefinition:
        compatibilities:
          - "FARGATE"
          - "EC2"
      # resources:
      #   requests:
      #     memory: "123Mi"
      #     cpu: "250m"
      #   limits:
      #     memory: "256Mi"
      #     cpu: "500m"
      labels:
        check: oneTwo
      # imagePullPolicy: IfNotPresent
      # portMappings:
      #   - "30001:80"
      # livenessProbe:
      #   httpGet:
      #     path: /
      #     port: 8888
      # readinessProbe:
      #   httpGet:
      #     path: /
      #     port: 8888
      #   initialDelaySeconds: 5
      #   periodSeconds: 5


  - name: simpleReplicas-deploy
    type: replicas
    flags:
      - deploy
    version:
      count: 1

  - name: base-options-deploy
    type: dockerOptions
    version:
      memoryReservation: 256
      #labels:
      #  test: a1234
      # portMappings:
      #   - "30002:8888"
      # deployment:
      #   progressDeadlineSeconds: 300



  # - name: timed-deployment-deploy
  #   type: time
  #   flags:
  #     - deploy
  #   seed:
  #     interval: "*/2 * * * *"



  - name: gkeLB-deploy
    type: loadBalancer
    integration: MyGCloudIntegration
    flags:
      - deploy
    pointer:
      sourceName: gke-service-shippable
      method: LoadBalancer
      namespace: shippable
      region: us-central1-f
    version:
      ports:
        - name: public
          protocol: TCP
          port: 8888
      selector:
        env: app
